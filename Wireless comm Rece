#include "Arduino.h"
#include <SPI.h>
#include <RF24.h>
#include <Wire.h>


RF24 radio(7, 8);

byte addresses[][6] = {"1Node", "2Node"};

int data,a=1,i,c;

double v[10];

void setup() {
  Serial.begin(9600);
 // Serial.println("THIS IS THE TRANSMITTER CODE - YOU NEED THE OTHER ARDIUNO TO SEND BACK A RESPONSE");

  
  radio.begin();

  
  radio.setPALevel(RF24_PA_MIN);

  
 // radio.setDataRate(RF24_2MBPS);

  
  //radio.setChannel(124);

  
  radio.openReadingPipe(1,addresses[1]);


  
  
}
 
  void loop(){ 

  radio.startListening();
  int G1;
  int G2;
 
  if(radio.available())
  {radio.read( &G1, sizeof(int) );
  if(a==1)
  {Serial.print("Slave1: ");
  Serial.println(G1);
  --a;
  c=constrain(G1,0,50);
   if(c>i)
   {
    while(c!=i)
    {
      digitalWrite(2,HIGH);
      digitalWrite(1,LOW);
      ++i;
    }
   }
   else if(i>c)
   {
    while(c!=i)
    {
      digitalWrite(2,LOW);
      digitalWrite(1,HIGH);
    }
   }
   else
   {
    digitalWrite(2,LOW);
    digitalWrite(1,LOW);
    
    } i=c;
   }
    }
  else if(a==0)
  {Serial.print("Slave2: ");++a;}  
  else
  Serial.print("Invalid: ");
  Serial.println(G1);
//  radio.read( &G2, sizeof(int) );
//   Serial.print("Slave2: ");
//  Serial.println(G2);

 //delay(1000);

}
  
  } 
   
  

 
 
